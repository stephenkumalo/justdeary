<!DOCTYPE html>

<html>
	<head>
		<script src="http://code.jquery.com/jquery.js"></script>
		<script type="text/javascript"
	    	src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCi57alMzI6upazhiOfwQmwVxka_qSQ7s8&sensor=true">
	    </script>
	    <script type="text/javascript">
	    	var instagram_api_call = "https://api.instagram.com/v1/tags/";
	    	var access_token = "52817678.467ede5.752fc2b103ce40ff82aa1bbbdf7211f5";
			function initialize() {
			var mapOptions = {
			  center: new google.maps.LatLng(-34.397, 150.644),
			  zoom: 8
			};
			var map = new google.maps.Map(document.getElementById("map-canvas"),
			    mapOptions);
			}
			google.maps.event.addDomListener(window, 'load', initialize);

			function instagram(){
				var tag = $( "#text" ).val();
				if( tag != ""){
					instagram_api_call += tag + "/media/recent?access_token=" + access_token;
					console.log( instagram_api_call );
					var ajax = $.ajax({
					  url: instagram_api_call,
					  beforeSend: function( xhr ) {
					    xhr.overrideMimeType( "text/plain; charset=x-user-defined" );
					  }
					});
					ajax.done(function(data){
						console.log( data );
					});
					ajax.error(function(jqXHR, status, err){
						alert("We could not find any posts with the tag you specified");
					});
				}
			}

			$( window ).load(function(){
	    		$( "#search-instagram" ).on("click", instagram);
	    	});
	    </script>
		<script src="bootstrap/js/bootstrap.min.js"></script>
		<style type="text/css">
		  html { height: 100% }
		  body { height: 100%; margin: 0; padding: 0 }
		  #map-canvas { height: 100%; z-index: 0; }
		  #search-bar {width: 340px; z-index: 10; position: absolute; margin-left: 75px; margin-top: 50px;}
		</style>
		<link href='http://fonts.googleapis.com/css?family=Alegreya+Sans+SC:100' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Lato:100' rel='stylesheet' type='text/css'>
		<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
		<link href="styles/styles.css" rel="stylesheet">
	</head>
	<body>
		<div id="search-bar">
			<input type="text" class="form-control" placeholder="Search for a tag" id="text" width="200">
			<button type="button" class="btn btn-primary" id="search-instagram" width="40">Search Instagram</button>
		</div>
		<div id="map-canvas" width="100%" height="100%"/>
	</body>
</html>